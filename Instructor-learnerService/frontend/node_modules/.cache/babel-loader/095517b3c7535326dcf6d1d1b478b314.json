{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Documents\\\\GitHub\\\\Distributed System\\\\DistributedSystems\\\\Instructor-learnerService\\\\frontend\\\\src\\\\components\\\\Farmer\\\\FarmerSubComponents\\\\CourseContent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport '../styles/CourseContent.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CourseContent() {\n  _s();\n\n  const [courseContent, setCourseContent] = useState(null);\n  const [selectedVideos, setSelectedVideos] = useState([]);\n  const [selectedPhotos, setSelectedPhotos] = useState([]);\n  const [selectedNotes, setSelectedNotes] = useState([]);\n  const [showUpdateForm, setShowUpdateForm] = useState(false);\n  const [videos, setVideo] = useState('');\n  const [photos, setPhoto] = useState('');\n  const [notes, setNote] = useState('');\n  const location = useLocation();\n  useEffect(() => {\n    async function fetchCourseContent() {\n      try {\n        const response = await fetch(`http://localhost:8070/api/courseContent/${location.pathname.split('/').pop()}`);\n\n        if (!response.ok) {\n          throw new Error('Failed to fetch course content');\n        }\n\n        const data = await response.json();\n        setCourseContent(data.courseContent);\n        setSelectedVideos(new Array(data.courseContent.videos.length).fill(false));\n        setSelectedPhotos(new Array(data.courseContent.photos.length).fill(false));\n        setSelectedNotes(new Array(data.courseContent.notes.length).fill(false));\n      } catch (error) {\n        console.error(error);\n      }\n    }\n\n    fetchCourseContent();\n  }, [location.pathname]);\n\n  const handleCheckboxChange = (type, index) => {\n    switch (type) {\n      case 'videos':\n        setSelectedVideos(prevState => {\n          const newSelectedVideos = [...prevState];\n          newSelectedVideos[index] = !newSelectedVideos[index];\n          return newSelectedVideos;\n        });\n        break;\n\n      case 'photos':\n        setSelectedPhotos(prevState => {\n          const newSelectedPhotos = [...prevState];\n          newSelectedPhotos[index] = !newSelectedPhotos[index];\n          return newSelectedPhotos;\n        });\n        break;\n\n      case 'notes':\n        setSelectedNotes(prevState => {\n          const newSelectedNotes = [...prevState];\n          newSelectedNotes[index] = !newSelectedNotes[index];\n          return newSelectedNotes;\n        });\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleCancel = () => {\n    const pathname = `/farmer-dashboard/${localStorage.getItem(\"username\")}/view`;\n    window.location.href = pathname;\n  };\n\n  const handleDelete = async () => {\n    try {\n      if (courseContent) {\n        const videosToDelete = courseContent.videos.filter((video, index) => selectedVideos[index]);\n        const photosToDelete = courseContent.photos.filter((photo, index) => selectedPhotos[index]);\n        const notesToDelete = courseContent.notes.filter((note, index) => selectedNotes[index]);\n        const response = await fetch(`http://localhost:8070/api/courseContent/${courseContent.courseId}/delete`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            contentID: courseContent._id,\n            removeVideos: videosToDelete,\n            removePhotos: photosToDelete,\n            removeNotes: notesToDelete\n          })\n        });\n\n        if (!response.ok) {\n          throw new Error('Failed to remove existing content');\n        }\n\n        window.location.reload();\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleUpdate = () => {\n    setShowUpdateForm(true);\n  };\n\n  const handleUpdateFormSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      const response = await fetch(`http://localhost:8070/api/courseContent/${courseContent.courseId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          contentID: courseContent._id,\n          videos,\n          photos,\n          notes\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update content');\n      }\n\n      window.location.reload();\n      setShowUpdateForm(false);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const isDeleteDisabled = () => {\n    return !selectedVideos.some(video => video) && !selectedPhotos.some(photo => photo) && !selectedNotes.some(note => note);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"course-content-container\",\n    children: courseContent ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Course Content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Course ID: \", courseContent.courseId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Videos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: courseContent.videos.map((video, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: selectedVideos[index],\n              onChange: () => handleCheckboxChange('videos', index)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: video,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: [\"Video \", index + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Photos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: courseContent.photos.map((photo, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: selectedPhotos[index],\n              onChange: () => handleCheckboxChange('photos', index)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: photo,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: [\"Photo \", index + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Notes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: courseContent.notes.map((note, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: selectedNotes[index],\n              onChange: () => handleCheckboxChange('notes', index)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"note\",\n              children: note\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-content-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"update-btn\",\n          onClick: handleUpdate,\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"delete-btn\",\n          onClick: handleDelete,\n          disabled: isDeleteDisabled(),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel-btn\",\n          onClick: handleCancel,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this), showUpdateForm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleUpdateFormSubmit,\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Add Content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Video URL:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: videos,\n              onChange: e => setVideo(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Photo URL:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: photos,\n              onChange: e => setPhoto(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Note Text:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: notes,\n              onChange: e => setNote(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"update-btn\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-btn\",\n            onClick: () => setShowUpdateForm(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CourseContent, \"rDOOqAjXvHyG2vEMa9guDX26W1c=\", false, function () {\n  return [useLocation];\n});\n\n_c = CourseContent;\nexport default CourseContent;\n\nvar _c;\n\n$RefreshReg$(_c, \"CourseContent\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","CourseContent","courseContent","setCourseContent","selectedVideos","setSelectedVideos","selectedPhotos","setSelectedPhotos","selectedNotes","setSelectedNotes","showUpdateForm","setShowUpdateForm","videos","setVideo","photos","setPhoto","notes","setNote","location","fetchCourseContent","response","fetch","pathname","split","pop","ok","Error","data","json","Array","length","fill","error","console","handleCheckboxChange","type","index","prevState","newSelectedVideos","newSelectedPhotos","newSelectedNotes","handleCancel","localStorage","getItem","window","href","handleDelete","videosToDelete","filter","video","photosToDelete","photo","notesToDelete","note","courseId","method","headers","body","JSON","stringify","contentID","_id","removeVideos","removePhotos","removeNotes","reload","handleUpdate","handleUpdateFormSubmit","event","preventDefault","isDeleteDisabled","some","map","e","target","value"],"sources":["C:/Users/ASUS/Documents/GitHub/Distributed System/DistributedSystems/Instructor-learnerService/frontend/src/components/Farmer/FarmerSubComponents/CourseContent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport '../styles/CourseContent.css';\r\n\r\nfunction CourseContent() {\r\n  const [courseContent, setCourseContent] = useState(null);\r\n  const [selectedVideos, setSelectedVideos] = useState([]);\r\n  const [selectedPhotos, setSelectedPhotos] = useState([]);\r\n  const [selectedNotes, setSelectedNotes] = useState([]);\r\n  const [showUpdateForm, setShowUpdateForm] = useState(false);\r\n  const [videos, setVideo] = useState('');\r\n  const [photos, setPhoto] = useState('');\r\n  const [notes, setNote] = useState('');\r\n  const location = useLocation();\r\n  \r\n  useEffect(() => {\r\n    async function fetchCourseContent() {\r\n      try {\r\n        const response = await fetch(`http://localhost:8070/api/courseContent/${location.pathname.split('/').pop()}`);\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch course content');\r\n        }\r\n        const data = await response.json();\r\n        setCourseContent(data.courseContent);\r\n        setSelectedVideos(new Array(data.courseContent.videos.length).fill(false));\r\n        setSelectedPhotos(new Array(data.courseContent.photos.length).fill(false));\r\n        setSelectedNotes(new Array(data.courseContent.notes.length).fill(false));\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n    fetchCourseContent();\r\n  }, [location.pathname]);\r\n\r\n  const handleCheckboxChange = (type, index) => {\r\n    switch (type) {\r\n      case 'videos':\r\n        setSelectedVideos(prevState => {\r\n          const newSelectedVideos = [...prevState];\r\n          newSelectedVideos[index] = !newSelectedVideos[index];\r\n          return newSelectedVideos;\r\n        });\r\n        break;\r\n      case 'photos':\r\n        setSelectedPhotos(prevState => {\r\n          const newSelectedPhotos = [...prevState];\r\n          newSelectedPhotos[index] = !newSelectedPhotos[index];\r\n          return newSelectedPhotos;\r\n        });\r\n        break;\r\n      case 'notes':\r\n        setSelectedNotes(prevState => {\r\n          const newSelectedNotes = [...prevState];\r\n          newSelectedNotes[index] = !newSelectedNotes[index];\r\n          return newSelectedNotes;\r\n        });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    const pathname = `/farmer-dashboard/${localStorage.getItem(\"username\")}/view`;\r\n    window.location.href = pathname;\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      if (courseContent) {\r\n        const videosToDelete = courseContent.videos.filter((video, index) => selectedVideos[index]);\r\n        const photosToDelete = courseContent.photos.filter((photo, index) => selectedPhotos[index]);\r\n        const notesToDelete = courseContent.notes.filter((note, index) => selectedNotes[index]);\r\n\r\n        const response = await fetch(`http://localhost:8070/api/courseContent/${courseContent.courseId}/delete`, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n            contentID: courseContent._id,\r\n            removeVideos: videosToDelete,\r\n            removePhotos: photosToDelete,\r\n            removeNotes: notesToDelete\r\n          })\r\n        });\r\n        if (!response.ok) {\r\n          throw new Error('Failed to remove existing content');\r\n        }\r\n        window.location.reload();\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleUpdate = () => {\r\n    setShowUpdateForm(true);\r\n  };\r\n\r\n  const handleUpdateFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const response = await fetch(`http://localhost:8070/api/courseContent/${courseContent.courseId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          contentID: courseContent._id,\r\n          videos,\r\n          photos,\r\n          notes\r\n        })\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('Failed to update content');\r\n      }\r\n      window.location.reload();\r\n      setShowUpdateForm(false);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const isDeleteDisabled = () => {\r\n    return !selectedVideos.some(video => video) && !selectedPhotos.some(photo => photo) && !selectedNotes.some(note => note);\r\n  };\r\n\r\n  return (\r\n    <div className=\"course-content-container\">\r\n      {courseContent ? (\r\n        <div>\r\n          <h2>Course Content</h2>\r\n          <p>Course ID: {courseContent.courseId}</p>\r\n          <div className=\"content-section\">\r\n            <h3>Videos</h3>\r\n            <ul>\r\n              {courseContent.videos.map((video, index) => (\r\n                <li key={index}>\r\n                  <input type=\"checkbox\" checked={selectedVideos[index]} onChange={() => handleCheckboxChange('videos', index)} />\r\n                  <a href={video} target=\"_blank\" rel=\"noopener noreferrer\">Video {index + 1}</a>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div className=\"content-section\">\r\n            <h3>Photos</h3>\r\n            <ul>\r\n              {courseContent.photos.map((photo, index) => (\r\n                <li key={index}>\r\n                  <input type=\"checkbox\" checked={selectedPhotos[index]} onChange={() => handleCheckboxChange('photos', index)} />\r\n                  <a href={photo} target=\"_blank\" rel=\"noopener noreferrer\">Photo {index + 1}</a>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div className=\"content-section\">\r\n            <h3>Notes</h3>\r\n            <ul>\r\n              {courseContent.notes.map((note, index) => (\r\n                <li key={index}>\r\n                  <input type=\"checkbox\" checked={selectedNotes[index]} onChange={() => handleCheckboxChange('notes', index)} />\r\n                  <span className=\"note\">{note}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div className=\"add-content-section\">\r\n            <button className=\"update-btn\" onClick={handleUpdate}>Update</button>\r\n            <button className=\"delete-btn\" onClick={handleDelete} disabled={isDeleteDisabled()}>Delete</button>\r\n            <button className=\"cancel-btn\" onClick={handleCancel}>Cancel</button>\r\n          </div>\r\n\r\n          {showUpdateForm && (\r\n            <div className=\"modal\">\r\n              <form onSubmit={handleUpdateFormSubmit} className=\"modal-content\">\r\n\r\n                <h3>Add Content</h3>\r\n                <label>\r\n                  Video URL:\r\n                  <input type=\"text\" value={videos} onChange={e => setVideo(e.target.value)} />\r\n                </label>\r\n                <br />\r\n                <label>\r\n                  Photo URL:\r\n                  <input type=\"text\" value={photos} onChange={e => setPhoto(e.target.value)} />\r\n                </label>\r\n                <br />\r\n                <label>\r\n                  Note Text:\r\n                  <input type=\"text\" value={notes} onChange={e => setNote(e.target.value)} />\r\n                </label>\r\n                <br />\r\n                <button className=\"update-btn\" type=\"submit\">Submit</button>\r\n                <button className=\"cancel-btn\" onClick={() => setShowUpdateForm(false)}>Close</button>\r\n              </form>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <p>Loading...</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CourseContent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}