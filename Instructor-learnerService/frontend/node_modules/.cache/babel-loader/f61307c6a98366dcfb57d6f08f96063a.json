{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Documents\\\\GitHub\\\\Distributed System\\\\DistributedSystems\\\\Instructor-learnerService\\\\frontend\\\\src\\\\components\\\\Register\\\\PasswordResetRequest.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable import/no-anonymous-default-export */\nimport { Modal, Button, Tooltip, Input } from \"antd\";\nimport React, { useState } from \"react\";\nimport { Form } from \"antd\";\nimport { InfoCircleOutlined, MailOutlined } from \"@ant-design/icons\";\nimport axios from \"axios\";\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst layout = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16\n  }\n};\nexport default _s(() => {\n  _s();\n\n  const [visible, setVisible] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const location = useLocation();\n\n  const forgotPasswordHandler = async () => {\n    //method for forgot password handling\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    try {\n      const {\n        data\n      } = await axios.post(\"/api/auth/forgotpassword\", {\n        email\n      }, config);\n      setSuccess(data.verify);\n      setTimeout(() => {\n        setVisible(false);\n        setEmail(\"\");\n      }, 3000);\n    } catch (error) {\n      setError(error.response.data.error);\n      setTimeout(() => {\n        setError(\"\");\n        setSuccess(\"\");\n        setEmail(\"\");\n      }, 5000); //5s\n    }\n  };\n\n  const [form] = Form.useForm();\n\n  const showModal = () => {\n    setVisible(!visible);\n  };\n\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [location.pathname === \"/\" ?\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/anchor-is-valid\n    _jsxDEV(\"a\", {\n      className: \"forget-text\",\n      onClick: showModal,\n      children: \"Forgot password?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: showModal,\n        children: \"Click Here To Request\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      visible: visible,\n      title: \"Password Request Form\",\n      onCancel: handleCancel,\n      footer: false,\n      children: [/*#__PURE__*/_jsxDEV(\"center\", {\n        children: [error && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"red\"\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), success && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"green\"\n          },\n          children: success\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, { ...layout,\n        form: form,\n        name: \"control-hooks\",\n        onFinish: forgotPasswordHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"center\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"email\",\n          label: \"Email\",\n          rules: [{\n            required: true\n          }, {\n            type: \"email\"\n          }, {\n            max: 50\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            style: {\n              width: \"100%\"\n            },\n            placeholder: \"write your registered email only\",\n            prefix: /*#__PURE__*/_jsxDEV(MailOutlined, {\n              className: \"site-form-item-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 23\n            }, this),\n            suffix: /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Enter email that you already have\",\n              children: /*#__PURE__*/_jsxDEV(InfoCircleOutlined, {\n                style: {\n                  color: \"rgba(0,0,0,.45)\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 17\n            }, this),\n            showCount: true,\n            maxLength: 50,\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...tailLayout,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            children: \"Request\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), \"\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n            htmlType: \"button\",\n            onClick: handleCancel,\n            children: \"Return\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}, \"yUEt9h5InB1ken1AlUogDSvaVSw=\", false, function () {\n  return [useLocation, Form.useForm];\n});","map":{"version":3,"names":["Modal","Button","Tooltip","Input","React","useState","Form","InfoCircleOutlined","MailOutlined","axios","useLocation","layout","labelCol","span","wrapperCol","tailLayout","offset","visible","setVisible","email","setEmail","error","setError","success","setSuccess","location","forgotPasswordHandler","config","headers","data","post","verify","setTimeout","response","form","useForm","showModal","handleCancel","pathname","color","required","type","max","width","e","target","value"],"sources":["C:/Users/ASUS/Documents/GitHub/Distributed System/DistributedSystems/Instructor-learnerService/frontend/src/components/Register/PasswordResetRequest.js"],"sourcesContent":["/* eslint-disable import/no-anonymous-default-export */\r\nimport { Modal, Button, Tooltip, Input } from \"antd\";\r\nimport React, { useState } from \"react\";\r\nimport { Form } from \"antd\";\r\nimport { InfoCircleOutlined, MailOutlined } from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst layout = {\r\n  labelCol: {\r\n    span: 8,\r\n  },\r\n  wrapperCol: {\r\n    span: 16,\r\n  },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: {\r\n    offset: 8,\r\n    span: 16,\r\n  },\r\n};\r\n\r\nexport default () => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n\r\n  const location = useLocation();\r\n\r\n  const forgotPasswordHandler = async () => {\r\n    //method for forgot password handling\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    try {\r\n      const { data } = await axios.post(\r\n        \"/api/auth/forgotpassword\",\r\n        { email },\r\n        config\r\n      );\r\n\r\n      setSuccess(data.verify);\r\n      setTimeout(() => {\r\n        setVisible(false);\r\n        setEmail(\"\");\r\n      }, 3000);\r\n    } catch (error) {\r\n      setError(error.response.data.error);\r\n      setTimeout(() => {\r\n        setError(\"\");\r\n        setSuccess(\"\");\r\n        setEmail(\"\");\r\n      }, 5000); //5s\r\n    }\r\n  };\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const showModal = () => {\r\n    setVisible(!visible);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {location.pathname === \"/\" ? (\r\n        // eslint-disable-next-line jsx-a11y/anchor-is-valid\r\n        <a className=\"forget-text\" onClick={showModal}>\r\n          Forgot password?\r\n        </a>\r\n      ) : (\r\n        <center>\r\n          <Button type=\"primary\" onClick={showModal}>\r\n            Click Here To Request\r\n          </Button>\r\n        </center>\r\n      )}\r\n      <Modal\r\n        visible={visible}\r\n        title=\"Password Request Form\"\r\n        onCancel={handleCancel}\r\n        footer={false}\r\n      >\r\n        <center>\r\n          {error && <span style={{ color: \"red\" }}>{error}</span>}\r\n          {success && <span style={{ color: \"green\" }}>{success}</span>}\r\n        </center>\r\n        <Form\r\n          {...layout}\r\n          form={form}\r\n          name=\"control-hooks\"\r\n          onFinish={forgotPasswordHandler}\r\n        >\r\n          <center>\r\n            {/* {error && <span style={{ color: \"red\" }}>{error}</span>} */}\r\n          </center>\r\n          <Form.Item\r\n            name=\"email\"\r\n            label=\"Email\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n              },\r\n              { type: \"email\" },\r\n              { max: 50 },\r\n            ]}\r\n          >\r\n            <Input\r\n              style={{ width: \"100%\" }}\r\n              placeholder=\"write your registered email only\"\r\n              prefix={<MailOutlined className=\"site-form-item-icon\" />}\r\n              suffix={\r\n                <Tooltip title=\"Enter email that you already have\">\r\n                  <InfoCircleOutlined style={{ color: \"rgba(0,0,0,.45)\" }} />\r\n                </Tooltip>\r\n              }\r\n              showCount\r\n              maxLength={50}\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item {...tailLayout}>\r\n            <Button type=\"primary\" htmlType=\"submit\">\r\n              Request\r\n            </Button>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button htmlType=\"button\" onClick={handleCancel}>\r\n              Return\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}